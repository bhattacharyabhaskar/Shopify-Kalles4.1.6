<!-- sections/promo_text.liquid -->
    {% if template contains 'index' or template contains 'collection' or template contains 'product' %}
        
    {% else %}
        <style>.t4s-section-inner{margin-top:var(--mg-top);margin-inline-end:var(--mg-right);margin-bottom:var(--mg-bottom);margin-inline-start:var(--mg-left);padding-top:var(--pd-top);padding-inline-end:var(--pd-right);padding-bottom:var(--pd-bottom);padding-inline-start:var(--pd-left)}.t4s-section-inner:not(.t4s-se-container),.t4s-container>.t4s-container-inner{background:var(--bg-gradient);background-color:var(--bg-color)}.t4s-container-inner.t4s-has-imgbg,.t4s-section-inner.t4s-has-imgbg{background-repeat:no-repeat;background-position:center;background-size:cover}.t4s-container-fluid{width:calc(100% - var(--mg-left,0) - var(--mg-right,0));width:-webkit-calc(100% - var(--mg-left,0) - var(--mg-right,0))}.t4s-section-inner.t4s-se-container{padding-top:0;padding-inline-end:0;padding-bottom:0;padding-inline-start:0}.t4s-section-inner.t4s-se-container .t4s-container-inner{padding-top:var(--pd-top);padding-inline-end:var(--pd-right);padding-bottom:var(--pd-bottom);padding-inline-start:var(--pd-left)}.t4s-custom-line{width:var(--width);border-width:var(--height);border-style:var(--line-style);border-color:var(--line-cl);border-top:none;border-right:none;border-left:none;display:inline-block;vertical-align:top}@media (max-width: 1024px){.t4s-container-fluid{width:calc(100% - var(--mgtb-left,0) - var(--mgtb-right,0));width:-webkit-calc(100% - var(--mgtb-left,0) - var(--mgtb-right,0))}.t4s-section-inner.t4s-se-container .t4s-container-inner,.t4s-section-inner{margin-top:var(--mgtb-top);margin-inline-end:var(--mgtb-right);margin-bottom:var(--mgtb-bottom);margin-inline-start:var(--mgtb-left);padding-top:var(--pdtb-top);padding-inline-end:var(--pdtb-right);padding-bottom:var(--pdtb-bottom);padding-inline-start:var(--pdtb-left)}}@media (max-width: 767px){.t4s-container-fluid{width:calc(100% - var(--mgmb-left,0) - var(--mgmb-right,0));width:-webkit-calc(100% - var(--mgmb-left,0) - var(--mgmb-right,0))}.t4s-section-inner.t4s-se-container .t4s-container-inner,.t4s-section-inner{margin-top:var(--mgmb-top);margin-inline-end:var(--mgmb-right);margin-bottom:var(--mgmb-bottom);margin-inline-start:var(--mgmb-left);padding-top:var(--pdmb-top);padding-inline-end:var(--pdmb-right);padding-bottom:var(--pdmb-bottom);padding-inline-start:var(--pdmb-left)}}.t4s-promo-text p{color:var(--text-cl);font-size:var(--text-fs);font-weight:var(--text-fw);letter-spacing:var(--text-ls);line-height:var(--text-lh);margin-bottom:0}.t4s-promo-text p a{color:var(--color-link)}.t4s-promo-text p a:hover{opacity:.8}.t4s-promo-text .t4s-slide-eff-translate .t4s-prt-text p{-webkit-transform:translateY(50px);transform:translateY(50px);opacity:0;transition:opacity .8s,transform .8s,-webkit-transform .8s;will-change:transform,opacity;-webkit-backface-visibility:hidden}.t4s-promo-text .t4s-slide-eff-translate .t4s-prt-text.is-selected p{-webkit-transform:none;transform:none;opacity:1}.t4s-promo-text .t4s-countdown-enabled{display:inline-block}@media screen and (max-width:767px){.t4s-promo-text p{font-size:var(--text-fs-mb);letter-spacing:var(--text-ls-mb);line-height:var(--text-lh-mb)}}.flickityt4s:not(.flickityt4s-enabled){flex-wrap:nowrap;overflow:hidden;width:auto}.flickityt4s-enabled{display:block;position:relative;-webkit-tap-highlight-color:transparent}.flickityt4s-enabled:focus{outline:0;box-shadow:none}.flickityt4s-viewport{overflow:hidden;position:relative;width:100%;height:100%}.flickityt4s-slider{position:absolute;width:100%;height:100%;will-change:transform}.flickityt4s-enabled.is-draggable{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickityt4s-enabled.is-draggable .flickityt4s-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickityt4s-enabled.is-draggable .flickityt4s-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickityt4s-button,.flickityt4s-page-dots{display:none}.flickityt4s-enabled.is-fade .flickityt4s-slider>*{pointer-events:none;z-index:0;opacity:0;transition:opacity .3s ease-in-out,visibility .3s ease-in-out}.flickityt4s-enabled.is-fade .flickityt4s-slider>.is-selected{pointer-events:auto;z-index:1;opacity:1}.t4s-enabled .flickityt4s-viewport{transition:height .3s}.flickityt4s-button{position:absolute;border:none}.flickityt4s-button:hover{cursor:pointer}.flickityt4s-button:active{opacity:.6}.flickityt4s-button:disabled{opacity:.3!important;cursor:auto}.flickityt4s_prev_disable.flickityt4s_next_disable .flickityt4s-button:disabled,.flickityt4s_prev_disable.flickityt4s_next_disable .flickityt4s-page-dots{display:none!important}.flickityt4s-button-icon{fill:currentColor}.flickityt4s-prev-next-button{top:var(--prev-next-top,50%);width:40px;height:40px;min-width:40px;min-height:40px;padding:0;transform:translateY(-50%)}.flickityt4s-prev-next-button.previous{left:15px}.flickityt4s-prev-next-button.next{right:15px}.flickityt4s-rtl .flickityt4s-prev-next-button.previous{left:auto;right:15px}.flickityt4s-rtl .flickityt4s-prev-next-button.next{right:auto;left:15px}.flickityt4s-prev-next-button .flickityt4s-button-icon{width:auto;height:18px;stroke:currentColor;fill:currentcolor}.flickityt4s-page-dots{position:relative;width:100%;bottom:0;z-index:2;padding:0;margin:15px 0 0;list-style:none;text-align:center;line-height:1}.flickityt4s-rtl .flickityt4s-page-dots{direction:rtl}.flickityt4s:after{content:'flickityt4s';display:none}@media (min-width:768px){.carousel-disable-md:after{content:''}.carousel-disable-md.flickityt4s:not(.flickityt4s-enabled){flex-wrap:wrap }}@media (min-width:1025px){.carousel-disable-lg:after{content:''}.carousel-disable-lg.flickityt4s:not(.flickityt4s-enabled){flex-wrap:wrap}.t4s-carousel__nav-scroller:not(.is__position-bottom){position:absolute;top:0;left:0;right:0;bottom:0;overflow-x:visible;overflow-y:scroll;overscroll-behavior-y: contain;}.t4s-carousel__nav{flex-wrap:wrap }}.flickityt4s-enabled,.flickityt4s-slider>.t4s-col-item{margin-top:0!important}.t4s-carousel__nav-scroller{width:100%;overflow-x:scroll;white-space:nowrap; -webkit-overflow-scrolling: touch;-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;scrollbar-width:none;scroll-behavior:smooth;-ms-overflow-style:-ms-autohiding-scrollbar}.t4s-carousel__nav-scroller img{opacity:0;transition:.3s ease-in-out}.t4s-carousel__nav-scroller img.lazyloadt4sed{opacity:1}.t4s-carousel__nav{flex-wrap:nowrap}.t4s-carousel__nav-scroller::-webkit-scrollbar{height:0;width:0}</style>
    {% endif %}
<link rel="stylesheet" data-href="{{ 'section.css' | asset_url }}">
<link rel="stylesheet" data-href="{{ 'promo-text.css' | asset_url }}">
<link rel="stylesheet" data-href="{{ 'pre_flickityt4s.min.css' | asset_url }}">
{%- liquid
    assign sid = section.id
    assign se_stts = section.settings
    assign se_blocks = section.blocks
    assign stt_layout = se_stts.layout
    assign stt_image_bg = se_stts.image_bg

    if stt_layout == 't4s-se-container' 
        assign html_layout = '<div class="t4s-container">__</div></div>' | split: '__'
    elsif stt_layout == 't4s-container-wrap'
        assign html_layout = '<div class="t4s-container">__</div>' | split: '__'
    else
        assign html_layout = '__' | split: '__'
    endif
    assign t4s_se_class = 't4s_nt_se_' | append: sid
    if se_stts.use_cus_css and se_stts.code_cus_css != blank
        render 'se_cus_css', code_cus_css: se_stts.code_cus_css, t4s_se_class: t4s_se_class
    endif 
 -%}
<div class="t4s-section-inner {{ t4s_se_class }} t4s_nt_se_{{ sid }} {{ stt_layout }}{% if stt_image_bg != blank and stt_layout != 't4s-se-container' %} t4s-has-imgbg lazyloadt4s{% endif %}" {% if stt_image_bg != blank and stt_layout != 't4s-se-container' %} data-bgset="{{ stt_image_bg | image_url: width: 1 }}" data-sizes="auto"  data-optimumx="2"{% endif %} {% render 'section_style', se_stts: se_stts -%} >
    {{- html_layout[0] -}}
    {%- if stt_layout == 't4s-se-container' -%}<div class="t4s-container-inner{% if stt_image_bg != blank %} t4s-has-imgbg lazyloadt4s{% endif %}" {% if stt_image_bg != blank %} data-bgset="{{ stt_image_bg | image_url: width: 1 }}" data-sizes="auto"  data-optimumx="2"{% endif %}>{% endif -%}
        <div class="t4s-row t4s-text-center t4s-slide-eff-{{ se_stts.effect }} {% if se_blocks.size > 1 %}flickityt4s{% endif %}" {% if se_blocks.size > 1 %} data-flickityt4s-js='{"cellAlign": "center","imagesLoaded": 0,"lazyLoad": 0,"freeScroll": 0,"wrapAround": true,"autoPlay" : {{ se_stts.au_time | times: 1000 }},"pauseAutoPlayOnHover" : true, "prevNextButtons": false,"pageDots": false, "contain" : 1,"adaptiveHeight" : 1,"dragThreshold" : 5,"percentPosition": 1 }' {% endif %}>
            {%- if se_blocks.size > 0 -%}
                {%- for block in se_blocks %}
                    {%- assign bk_stts = block.settings -%}
                    {%- capture cap_date -%}<span data-countdown-t4s data-loop="{%- if bk_stts.dayx > 0 -%}true{%- else -%}false{%- endif -%}" data-date="{{ bk_stts.countdown }}" data-dayl="{{ bk_stts.dayx }}"><span>{{ bk_stts.cus_cd }}</span></span>{%- endcapture -%}
                    <div class="t4s-col-item t4s-col-12 t4s-gx-10 t4s-prt-text t4s-rte" data-lh="{{ bk_stts.lh_text_mb }}" data-lh-md="{{ bk_stts.lh_text }}" data-lh-lg="{{ bk_stts.lh_text }}" id="b_{{ block.id }}" data-select-flickity {{ block.shopify_attributes }} style="--text-cl:{{ bk_stts.cl_text }};--color-link:{{ bk_stts.cl_link }};--text-fs:{{ bk_stts.fs_text }}px;--text-fw:{{ bk_stts.fw_text }};--text-ls:{{ bk_stts.ls_text }}px;--text-lh:{{ bk_stts.lh_text }}px;--text-fs-mb:{{ bk_stts.fs_mb_text }}px;--text-lh-mb:{{ bk_stts.lh_text_mb }}px;--text-ls-mb:{{ bk_stts.ls_mb_text }}px;">
                        {{- bk_stts.content | replace: '[countdown]',cap_date -}}
                    </div>
                {%- endfor -%}
            {%- endif -%}
        </div>
    {{- html_layout[1] -}}
</div>
{%- schema -%}
{
  "name": "Promo text",
  "tag": "section",
  "class": "t4s-section t4s-section-all t4s_bk_flickity t4s_tp_cd t4s-promo-text",
  "settings": [
    {
      "type": "header",
      "content": "1. General options"
    },
    {
      "type": "select",
      "id": "effect",
      "label": "Effect carousel",
      "default": "slider",
      "options": [
        {
          "value": "fade",
          "label": "Fade"
        },
        {
          "value": "slider",
          "label": "Carousel"
        },
        {
          "value": "fade t4s-slide-eff-translate",
          "label": "Translate"
        }
      ]
    },
    {
      "type": "range",
      "id": "au_time",
      "min": 0,
      "max": 30,
      "step": 0.5,
      "label": "Autoplay speed in second",
      "info": "Set is '0' to disable autoplay",
      "unit": "s",
      "default": 3
    },
    {
      "type": "header",
      "content": "2. Design options"
    },
    {
      "type": "select",
      "id": "layout",
      "default": "t4s-container-wrap",
      "label": "Layout",
      "options": [
        {
          "value": "t4s-se-container",
          "label": "Container"
        },
        {
          "value": "t4s-container-wrap",
          "label": "Wrapped container"
        },
        {
          "value": "t4s-container-fluid",
          "label": "Full width"
        }
      ]
    },
    {
      "type": "color",
      "id": "cl_bg",
      "label": "Background",
      "default": "#000"
    },
    {
      "type": "color_background",
      "id": "cl_bg_gradient",
      "label": "Background gradient"
    },
    {
      "type": "image_picker",
      "id": "image_bg",
      "label": "Background image"
    },
    {
      "type": "text",
      "id": "mg",
      "label": "Margin",
      "info": "Margin top, margin right, margin bottom, margin left. If you not use to blank",
      "default": ",,50px,",
      "placeholder": ",,50px,"
    },
    {
      "type": "text",
      "id": "pd",
      "label": "Padding",
      "info": "Padding top, padding right, padding bottom, padding left. If you not use to blank",
      "placeholder": "50px,,50px,",
      "default": "12px,,12px,"
    },
    {
      "type": "header",
      "content": "+ Design Tablet Options"
    },
    {
      "type": "text",
      "id": "mg_tb",
      "label": "Margin",
      "placeholder": ",,50px,"
    },
    {
      "type": "text",
      "id": "pd_tb",
      "label": "Padding",
      "placeholder": ",,50px,"
    },
    {
      "type": "header",
      "content": "+ Design mobile options"
    },
    {
      "type": "text",
      "id": "mg_mb",
      "label": "Margin",
      "default": ",,30px,",
      "placeholder": ",,50px,"
    },
    {
      "type": "text",
      "id": "pd_mb",
      "label": "Padding",
      "placeholder": ",,50px,",
      "default": "10px,,10px,"
    },
    {
      "type": "header",
      "content": "3. Custom css"
    },
    {
      "id": "use_cus_css",
      "type": "checkbox",
      "label": "Use custom css",
      "default": false,
      "info": "If you want custom style for this section."
    },
    {
      "id": "code_cus_css",
      "type": "textarea",
      "label": "Code custom css",
      "info": "Use selector .SectionID to style css"
    }
  ],
  "blocks": [
    {
      "type": "1",
      "name": "Content",
      "settings": [
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>TODAY DEAL SALE OFF 70%. END IN [countdown]. HURRY UP!!!</p>"
        },
        {
          "type": "text",
          "id": "countdown",
          "label": "Date countdown",
          "default": "2023/12/20",
          "info": "Use shortocdes: [countdown]. Countdown to the end sale date will be shown"
        },
        {
          "type": "textarea",
          "id": "cus_cd",
          "label": "Custom countdown",
          "default": "%-D day%!D %H:%M:%S",
          "placeholder": "%-D day%!D %H:%M:%S"
        },
        {
          "type": "range",
          "id": "dayx",
          "min": 0,
          "max": 100,
          "step": 1,
          "label": "Reset countdown every x days from an initial date",
          "info": "Set is '0' to disable reset countdown",
          "unit": "day",
          "default": 0
        },
        {
          "type": "color",
          "id": "cl_text",
          "label": "Color text",
          "default": "#fff"
        },
        {
          "type": "color",
          "id": "cl_link",
          "label": "Color link",
          "default": "#56cfe1"
        },
        {
          "type": "range",
          "id": "fw_text",
          "min": 300,
          "max": 900,
          "step": 100,
          "label": "Font weight",
          "default": 600
        },
        {
          "type": "range",
          "id": "fs_text",
          "min": 8,
          "max": 50,
          "step": 0.5,
          "label": "Font size",
          "unit": "px",
          "default": 12
        },
        {
          "type": "range",
          "id": "lh_text",
          "min": 0,
          "max": 100,
          "step": 1,
          "label": "Line height",
          "info": "set is '0' use to default",
          "unit": "px",
          "default": 0
        },
        {
          "type": "number",
          "id": "ls_text",
          "label": "Letter spacing (in pixel)",
          "info": "set is '0' use to default",
          "default": 0
        },
        {
          "type": "range",
          "id": "fs_mb_text",
          "min": 8,
          "max": 50,
          "step": 0.5,
          "label": "Font size (Mobile)",
          "unit": "px",
          "default": 10
        },
        {
          "type": "range",
          "id": "lh_text_mb",
          "min": 0,
          "max": 50,
          "step": 0.5,
          "label": "Line height (Mobile)",
          "info": "set is '0' use to default",
          "unit": "px",
          "default": 0
        },
        {
          "type": "number",
          "id": "ls_mb_text",
          "label": "Letter spacing (in pixel)",
          "info": "set is '0' use to default",
          "default": 0
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Promo text",
      "category": "homepage",
      "blocks": [
        {
          "type": "1"
        }
      ]
    }
  ]
}
{% endschema %}